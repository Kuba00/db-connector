<!DOCTYPE html>
<html lang="en" class="h-full bg-white">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MappingList Component Demo</title>
  <link rel="stylesheet" href="../index.css" />
  <script type="module" src="../index.ts"></script>
  <style>
    .demo-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }
    .demo-section {
      margin-bottom: 2rem;
      padding: 1rem;
      border: 1px solid #e5e7eb;
      border-radius: 0.5rem;
    }
    .code-example {
      background-color: #f3f4f6;
      padding: 1rem;
      border-radius: 0.5rem;
      margin-bottom: 1rem;
      font-family: monospace;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <main role="main" id="contenu">
    <div class="demo-container">
      <h1>MappingList Component Demo</h1>
      <p>This page demonstrates how to use the MappingList component with different mapping data.</p>

      <div class="demo-section">
        <h2>Basic Usage</h2>
        <p>The MappingList component can be used with a simple mapping data object:</p>
        <div class="code-example">
          &lt;mapping-list id="basic-demo"&gt;&lt;/mapping-list&gt;

          &lt;script&gt;
            document.addEventListener('DOMContentLoaded', () => {
              const mappingList = document.getElementById('basic-demo');
              mappingList.mappingData = {
                tables: [
                  {
                    table_name: "customers",
                    mapping_status: "success",
                    mapping_summary: {
                      total_fields: 5,
                      mapped_fields: 5,
                      unmapped_fields: 0,
                      confidence_score: 0.95
                    },
                    header_mapping: [
                      { source_field: "id", target_field: "customer_id", confidence: 0.98 },
                      { source_field: "name", target_field: "customer_name", confidence: 0.95 }
                    ],
                    unmapped_fields: [],
                    validation_status: "Valid",
                    message: "All fields mapped successfully"
                  }
                ]
              };
            });
          &lt;/script&gt;
        </div>

        <h3>Result:</h3>
        <mapping-list id="basic-demo"></mapping-list>
        <script>
          document.addEventListener('DOMContentLoaded', () => {
            const mappingList = document.getElementById('basic-demo');
            mappingList.mappingData = {
              tables: [
                {
                  table_name: "customers",
                  mapping_status: "success",
                  mapping_summary: {
                    total_fields: 5,
                    mapped_fields: 5,
                    unmapped_fields: 0,
                    confidence_score: 0.95
                  },
                  header_mapping: [
                    { source_field: "id", target_field: "customer_id", confidence: 0.98 },
                    { source_field: "name", target_field: "customer_name", confidence: 0.95 }
                  ],
                  unmapped_fields: [],
                  validation_status: "Valid",
                  message: "All fields mapped successfully"
                }
              ]
            };
          });
        </script>
      </div>

      <div class="demo-section">
        <h2>With Unmapped Fields</h2>
        <p>The MappingList component can also display unmapped fields with error information:</p>
        <div class="code-example">
          &lt;mapping-list id="unmapped-demo"&gt;&lt;/mapping-list&gt;

          &lt;script&gt;
            document.addEventListener('DOMContentLoaded', () => {
              const mappingList = document.getElementById('unmapped-demo');
              mappingList.mappingData = {
                tables: [
                  {
                    table_name: "orders",
                    mapping_status: "partial_success",
                    mapping_summary: {
                      total_fields: 5,
                      mapped_fields: 3,
                      unmapped_fields: 2,
                      confidence_score: 0.75
                    },
                    header_mapping: [
                      { source_field: "order_id", target_field: "transaction_id", confidence: 0.92 },
                      { source_field: "order_date", target_field: "purchase_date", confidence: 0.89 },
                      { source_field: "customer_phone", target_field: "contact_number", confidence: 0.85 }
                    ],
                    unmapped_fields: [
                      {
                        source_field: "payment_method",
                        error_type: "Format mismatch",
                        expected_format: "String (max 20 chars)",
                        suggested_fix: "Truncate to 20 characters",
                        manual_fix_required: false
                      },
                      {
                        source_field: "shipping_address",
                        error_type: "Missing required fields",
                        suggested_fix: "Add missing fields: country, postal_code",
                        manual_fix_required: true
                      }
                    ],
                    validation_status: "Partial",
                    message: "Some fields could not be mapped automatically"
                  }
                ]
              };
            });
          &lt;/script&gt;
        </div>

        <h3>Result:</h3>
        <mapping-list id="unmapped-demo"></mapping-list>
        <script>
          document.addEventListener('DOMContentLoaded', () => {
            const mappingList = document.getElementById('unmapped-demo');
            mappingList.mappingData = {
              tables: [
                {
                  table_name: "orders",
                  mapping_status: "partial_success",
                  mapping_summary: {
                    total_fields: 5,
                    mapped_fields: 3,
                    unmapped_fields: 2,
                    confidence_score: 0.75
                  },
                  header_mapping: [
                    { source_field: "order_id", target_field: "transaction_id", confidence: 0.92 },
                    { source_field: "order_date", target_field: "purchase_date", confidence: 0.89 },
                    { source_field: "customer_phone", target_field: "contact_number", confidence: 0.85 }
                  ],
                  unmapped_fields: [
                    {
                      source_field: "payment_method",
                      error_type: "Format mismatch",
                      expected_format: "String (max 20 chars)",
                      suggested_fix: "Truncate to 20 characters",
                      manual_fix_required: false
                    },
                    {
                      source_field: "shipping_address",
                      error_type: "Missing required fields",
                      suggested_fix: "Add missing fields: country, postal_code",
                      manual_fix_required: true
                    }
                  ],
                  validation_status: "Partial",
                  message: "Some fields could not be mapped automatically"
                }
              ]
            };
          });
        </script>
      </div>

      <div class="demo-section">
        <h2>Multiple Tables</h2>
        <p>The MappingList component can display multiple tables at once:</p>
        <div class="code-example">
          &lt;mapping-list id="multiple-demo"&gt;&lt;/mapping-list&gt;

          &lt;script&gt;
            document.addEventListener('DOMContentLoaded', () => {
              const mappingList = document.getElementById('multiple-demo');
              mappingList.mappingData = {
                tables: [
                  {
                    table_name: "customers",
                    mapping_status: "success",
                    mapping_summary: {
                      total_fields: 3,
                      mapped_fields: 3,
                      unmapped_fields: 0,
                      confidence_score: 0.95
                    },
                    header_mapping: [
                      { source_field: "id", target_field: "customer_id", confidence: 0.98 },
                      { source_field: "name", target_field: "customer_name", confidence: 0.95 },
                      { source_field: "phone", target_field: "contact_number", confidence: 0.92 }
                    ],
                    unmapped_fields: [],
                    validation_status: "Valid",
                    message: "All fields mapped successfully"
                  },
                  {
                    table_name: "orders",
                    mapping_status: "partial_success",
                    mapping_summary: {
                      total_fields: 4,
                      mapped_fields: 3,
                      unmapped_fields: 1,
                      confidence_score: 0.85
                    },
                    header_mapping: [
                      { source_field: "order_id", target_field: "transaction_id", confidence: 0.92 },
                      { source_field: "order_date", target_field: "purchase_date", confidence: 0.89 },
                      { source_field: "customer_id", target_field: "customer_id", confidence: 0.95 }
                    ],
                    unmapped_fields: [
                      {
                        source_field: "payment_method",
                        error_type: "Format mismatch",
                        expected_format: "String (max 20 chars)",
                        suggested_fix: "Truncate to 20 characters",
                        manual_fix_required: false
                      }
                    ],
                    validation_status: "Partial",
                    message: "Some fields could not be mapped automatically"
                  },
                  {
                    table_name: "products",
                    mapping_status: "failed",
                    mapping_summary: {
                      total_fields: 5,
                      mapped_fields: 0,
                      unmapped_fields: 5,
                      confidence_score: 0.0
                    },
                    header_mapping: [],
                    unmapped_fields: [
                      {
                        source_field: "product_id",
                        error_type: "Missing target field",
                        suggested_fix: "Create a new target field",
                        manual_fix_required: true
                      },
                      {
                        source_field: "product_name",
                        error_type: "Missing target field",
                        suggested_fix: "Create a new target field",
                        manual_fix_required: true
                      }
                    ],
                    validation_status: "Invalid",
                    message: "No fields could be mapped automatically"
                  }
                ]
              };
            });
          &lt;/script&gt;
        </div>

        <h3>Result:</h3>
        <mapping-list id="multiple-demo"></mapping-list>
        <script>
          document.addEventListener('DOMContentLoaded', () => {
            const mappingList = document.getElementById('multiple-demo');
            mappingList.mappingData = {
              tables: [
                {
                  table_name: "customers",
                  mapping_status: "success",
                  mapping_summary: {
                    total_fields: 3,
                    mapped_fields: 3,
                    unmapped_fields: 0,
                    confidence_score: 0.95
                  },
                  header_mapping: [
                    { source_field: "id", target_field: "customer_id", confidence: 0.98 },
                    { source_field: "name", target_field: "customer_name", confidence: 0.95 },
                    { source_field: "phone", target_field: "contact_number", confidence: 0.92 }
                  ],
                  unmapped_fields: [],
                  validation_status: "Valid",
                  message: "All fields mapped successfully"
                },
                {
                  table_name: "orders",
                  mapping_status: "partial_success",
                  mapping_summary: {
                    total_fields: 4,
                    mapped_fields: 3,
                    unmapped_fields: 1,
                    confidence_score: 0.85
                  },
                  header_mapping: [
                    { source_field: "order_id", target_field: "transaction_id", confidence: 0.92 },
                    { source_field: "order_date", target_field: "purchase_date", confidence: 0.89 },
                    { source_field: "customer_id", target_field: "customer_id", confidence: 0.95 }
                  ],
                  unmapped_fields: [
                    {
                      source_field: "payment_method",
                      error_type: "Format mismatch",
                      expected_format: "String (max 20 chars)",
                      suggested_fix: "Truncate to 20 characters",
                      manual_fix_required: false
                    }
                  ],
                  validation_status: "Partial",
                  message: "Some fields could not be mapped automatically"
                },
                {
                  table_name: "products",
                  mapping_status: "failed",
                  mapping_summary: {
                    total_fields: 5,
                    mapped_fields: 0,
                    unmapped_fields: 5,
                    confidence_score: 0.0
                  },
                  header_mapping: [],
                  unmapped_fields: [
                    {
                      source_field: "product_id",
                      error_type: "Missing target field",
                      suggested_fix: "Create a new target field",
                      manual_fix_required: true
                    },
                    {
                      source_field: "product_name",
                      error_type: "Missing target field",
                      suggested_fix: "Create a new target field",
                      manual_fix_required: true
                    }
                  ],
                  validation_status: "Invalid",
                  message: "No fields could be mapped automatically"
                }
              ]
            };
          });
        </script>
      </div>
    </div>
  </main>
</body>
</html>
